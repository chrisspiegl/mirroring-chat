(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b384"],{bf9c:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"account"},[i("h1",[t._v("Account "+t._s(t.userCurrent.displayName))]),i("v-card",[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Connected Accounts")])],1)],1),i("v-card-text",[i("p",[t._v("Twitch: "),t.userCurrent.UserTwitch?t._e():i("a",{attrs:{href:"/auth/twitch"}},[t._v("Link")]),t.userCurrent.UserTwitch?[i("span",[t._v(t._s(t.userCurrent.UserTwitch.displayName))]),t._v(" "),i("a",{on:{click:function(e){return t.unlink("twitch")}}},[t._v("Unlink")])]:t._e()],2),i("p",[t._v("YouTube: "),t.userCurrent.UserGoogle?t._e():i("a",{attrs:{href:"/auth/google"}},[t._v("Link")]),t.userCurrent.UserGoogle?[i("span",[t._v(t._s(t.userCurrent.UserGoogle.displayName))]),t._v(" "),i("a",{on:{click:function(e){return t.unlink("google")}}},[t._v("Unlink")])]:t._e()],2),i("p",[t._v("Telegram: "),t.userCurrent.UserTelegram?t._e():i("a",{attrs:{href:"/account/telegram"}},[t._v("Link")]),t.userCurrent.UserTelegram?[i("span",[t._v(t._s(t.userCurrent.UserTelegram.displayName))]),t._v(" "),i("a",{on:{click:function(e){return t.unlink("telegram")}}},[t._v("Unlink")])]:t._e()],2)])],1),i("v-card",{staticClass:"mt-8"},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Account Settings")])],1)],1),i("v-card-text",[i("v-list",[t.userCurrent.UserGoogle?i("v-list-item",[i("v-switch",{staticClass:"mx-2",model:{value:t.youtubeCrawlForActiveStreams,callback:function(e){t.youtubeCrawlForActiveStreams=e},expression:"youtubeCrawlForActiveStreams"}}),i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$youtube")]),t._v(" YouTube Track for Active Streams")],1)],1):t._e(),t.userCurrent.UserGoogle?i("v-list-item",[i("v-switch",{staticClass:"mx-2",model:{value:t.youtubeCrawlForUpcomingStreams,callback:function(e){t.youtubeCrawlForUpcomingStreams=e},expression:"youtubeCrawlForUpcomingStreams"}}),i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$youtube")]),t._v(" YouTube Track for Upcoming Streams")],1)],1):t._e(),t.userCurrent.UserTelegram?i("v-list-item",[i("v-switch",{staticClass:"mx-2",model:{value:t.telegramForward,callback:function(e){t.telegramForward=e},expression:"telegramForward"}}),i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$telegram")]),t._v(" Forward Messages to Telegram")],1)],1):t._e()],1)],1)],1),i("v-card",{staticClass:"mt-8"},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Live & Permanent Broadcasts")])],1)],1),i("v-card-text",[i("v-list",t._l(t.chatsActiveOrPermanent,(function(e,r){return i("v-list-item",{key:e.idChat},[i("v-list-item-content",[i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$"+t._s(e.provider))]),t._v(" "),i("a",{attrs:{href:"twitch"===e.provider?"https://twitch.com/"+e.idChatProvider:"https://youtu.be/"+e.idChatProvider}},[t._v(t._s(e.title))])],1)],1),i("v-list-item-action-text",[i("v-switch",{staticClass:"mx-2",attrs:{"input-value":e.isTracked,label:"tracking new messages"},on:{change:function(i){return t.isTrackedToggle(e)}}})],1)],1)})),1)],1)],1),i("v-card",{staticClass:"mt-8"},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Upcoming Live Broadcasts")])],1)],1),i("v-card-text",[i("v-list",t._l(t.chatsUpcoming,(function(e,r){return i("v-list-item",{key:e.idChat},[i("v-list-item-content",[i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$"+t._s(e.provider))]),t._v(" "),i("a",{attrs:{href:"twitch"===e.provider?"https://twitch.com/"+e.idChatProvider:"https://youtu.be/"+e.idChatProvider}},[t._v(t._s(e.title))])],1),t._v("Scheduled for "+t._s("youtube"===e.provider?t.dateFormat(t.parseISO(e.providerObject.snippet.scheduledStartTime)):"")+" which is "+t._s("youtube"===e.provider?t.dateFormatRelative(t.parseISO(e.providerObject.snippet.scheduledStartTime)):""))],1),i("v-list-item-action-text",[i("v-card-actions",[i("v-switch",{staticClass:"mx-2",attrs:{"input-value":e.isTracked,label:"tracking new messages"},on:{change:function(i){return t.isTrackedToggle(e)}}})],1)],1)],1)})),1)],1)],1),i("v-card",{staticClass:"mt-8"},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v("Past Broadcasts")])],1)],1),i("v-card-text",[i("v-list",t._l(t.chatsPast,(function(e,r){return i("v-list-item",{key:e.idChat},[i("v-list-item-content",[i("v-list-item-title",[i("v-icon",{attrs:{size:"1rem"}},[t._v("$"+t._s(e.provider))]),t._v(" "),i("a",{attrs:{href:"twitch"===e.provider?"https://twitch.com/"+e.idChatProvider:"https://youtu.be/"+e.idChatProvider}},[t._v(t._s(e.title))])],1)],1),i("v-list-item-action-text",{attrs:{disabled:""}},[i("v-card-actions",[i("v-switch",{staticClass:"mx-2",attrs:{"input-value":e.isTracked,label:"tracking new messages",disabled:""},on:{change:function(i){return t.isTrackedToggle(e)}}})],1)],1)],1)})),1)],1)],1)],1)},a=[],s=i("e1e5"),n=i("e3ee"),o=i("75a6"),c=i("3597"),l=i("d84b"),u={computed:{...l["a"],...l["g"],...l["e"],youtubeCrawlForActiveStreams:{get(){return this.getUserSettingValueByKey({key:"youtubeCrawlForActiveStreams"})},set(t){this.updateUserSetting({key:"youtubeCrawlForActiveStreams",value:t})}},youtubeCrawlForUpcomingStreams:{get(){return this.getUserSettingValueByKey({key:"youtubeCrawlForUpcomingStreams"})},set(t){this.updateUserSetting({key:"youtubeCrawlForUpcomingStreams",value:t})}},telegramForward:{get(){return this.getUserSettingValueByKey({key:"telegramForward"})},set(t){this.updateUserSetting({key:"telegramForward",value:t})}}},methods:{...l["h"],...l["f"],dateFormat:o["a"],dateFormatRelative:c["a"],parseISO:n["a"],async updateUserSetting({key:t,value:e}){this.updateUserSettingByKey({key:t,value:e}).then(()=>{this.$toast(`${e?"Activated":"Deactivated"} ${t}.`)}).catch(i=>{this.$toast(`Error while ${e?"activating":"deactivating"} of ${t}.`),this.$log.error(`Error while ${e?"activating":"deactivating"} of ${t}.`,i)})},async isTrackedToggle(t){console.log("isTrackedToggle -> chat",t);const e=!t.isTracked;await this.updateChat({chat:t,changes:{isTracked:e}}),this.$toast(`Chat ${t.title} marked to be ${e?"tracked":"not tracked"}.`)},unlink(t){Object(s["a"])({url:`/v1/auth/${t}/unlink`}).then(t=>{t.ok?this.$store.dispatch("USER_REQUEST"):this.$log.debug("Unlink with not ok response",t)}).catch(t=>{this.$log.debug("Unlink failed with error",t)})}},components:{},mounted(){this.$log.debug("Account.vue mounted"),this.fetchChats()}},v=u,m=i("2877"),d=i("6544"),h=i.n(d),g=i("b0af"),p=i("99d9"),_=i("a523"),k=i("132d"),C=i("8860"),w=i("da13"),b=i("5d23"),y=i("b73d"),T=Object(m["a"])(v,r,a,!1,null,null,null);e["default"]=T.exports;h()(T,{VCard:g["a"],VCardActions:p["b"],VCardText:p["d"],VContainer:_["a"],VIcon:k["a"],VList:C["a"],VListItem:w["a"],VListItemActionText:b["e"],VListItemContent:b["g"],VListItemTitle:b["k"],VSwitch:y["a"]})}}]);